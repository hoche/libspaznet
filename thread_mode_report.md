
## Thread-mode performance report

- **Host nproc**: 32
- **Thread counts**: 0, 2, 4, 8, 16, 32, 64, 128, 256, 512
- **HTTP duration per case**: 1.5s
- **HTTP client threads**: 32
- **iperf duration per case**: 2s

### HTTP (libspaznet) — throughput + latency

**Case**: req_body=0B, resp_body=0B

| threads | rps | resp MiB/s | p50 ms | p95 ms | p99 ms | errors |
|---:|---:|---:|---:|---:|---:|---:|
| 0 | 30663.4 | 0.00 | 0.61 | 0.69 | 1.00 | 0 |
| 2 | 33779.8 | 0.00 | 0.26 | 0.63 | 1.11 | 0 |
| 4 | 36749.2 | 0.00 | 0.21 | 0.72 | 1.31 | 0 |
| 8 | 43152.9 | 0.00 | 0.13 | 1.02 | 1.93 | 0 |
| 16 | 36749.0 | 0.00 | 0.13 | 1.62 | 2.51 | 0 |
| 32 | 35255.6 | 0.00 | 0.23 | 2.23 | 4.55 | 0 |
| 64 | 30807.1 | 0.00 | 0.34 | 2.62 | 6.06 | 0 |
| 128 | 22348.8 | 0.00 | 0.54 | 4.45 | 9.62 | 0 |
| 256 | 17999.3 | 0.00 | 0.85 | 6.41 | 17.69 | 0 |
| 512 | 8178.9 | 0.00 | 1.79 | 17.17 | 38.46 | 0 |

**Case**: req_body=0B, resp_body=256B

| threads | rps | resp MiB/s | p50 ms | p95 ms | p99 ms | errors |
|---:|---:|---:|---:|---:|---:|---:|
| 0 | 26883.7 | 6.56 | 0.66 | 0.78 | 0.94 | 0 |
| 2 | 28600.0 | 6.98 | 0.29 | 0.68 | 1.12 | 0 |
| 4 | 28726.5 | 7.01 | 0.23 | 0.85 | 1.48 | 0 |
| 8 | 29087.4 | 7.10 | 0.15 | 1.27 | 2.16 | 0 |
| 16 | 26905.6 | 6.57 | 0.14 | 2.07 | 2.69 | 0 |
| 32 | 25828.2 | 6.31 | 0.26 | 2.59 | 5.05 | 0 |
| 64 | 16053.5 | 3.92 | 0.40 | 3.51 | 7.13 | 0 |
| 128 | 25426.7 | 6.21 | 0.52 | 4.50 | 9.78 | 0 |
| 256 | 14048.2 | 3.43 | 0.95 | 8.09 | 25.07 | 0 |
| 512 | 10369.6 | 2.53 | 1.88 | 6.99 | 29.89 | 0 |

**Case**: req_body=256B, resp_body=256B

| threads | rps | resp MiB/s | p50 ms | p95 ms | p99 ms | errors |
|---:|---:|---:|---:|---:|---:|---:|
| 0 | 35195.9 | 8.59 | 0.74 | 0.83 | 0.99 | 0 |
| 2 | 42467.4 | 10.37 | 0.33 | 0.49 | 0.90 | 0 |
| 4 | 43649.5 | 10.66 | 0.26 | 0.62 | 1.25 | 0 |
| 8 | 57686.5 | 14.08 | 0.16 | 0.70 | 1.76 | 0 |
| 16 | 51857.9 | 12.66 | 0.14 | 1.10 | 2.43 | 0 |
| 32 | 40190.4 | 9.81 | 0.24 | 1.75 | 4.36 | 0 |
| 64 | 23146.7 | 5.65 | 0.41 | 3.15 | 7.50 | 0 |
| 128 | 25600.0 | 6.25 | 0.51 | 4.32 | 10.06 | 0 |
| 256 | 18112.6 | 4.42 | 0.81 | 6.14 | 15.23 | 0 |
| 512 | 11141.9 | 2.72 | 1.33 | 9.61 | 31.75 | 0 |

**Case**: req_body=4096B, resp_body=4096B

| threads | rps | resp MiB/s | p50 ms | p95 ms | p99 ms | errors |
|---:|---:|---:|---:|---:|---:|---:|
| 0 | 22569.8 | 88.16 | 1.41 | 1.47 | 1.49 | 0 |
| 2 | 37464.8 | 146.35 | 0.61 | 0.78 | 0.83 | 0 |
| 4 | 38888.7 | 151.91 | 0.45 | 0.59 | 0.99 | 0 |
| 8 | 33536.2 | 131.00 | 0.29 | 0.62 | 1.57 | 0 |
| 16 | 49474.7 | 193.26 | 0.21 | 0.88 | 2.46 | 0 |
| 32 | 26299.2 | 102.73 | 0.36 | 2.48 | 4.73 | 0 |
| 64 | 27057.5 | 105.69 | 0.55 | 3.18 | 5.49 | 0 |
| 128 | 14965.5 | 58.46 | 0.83 | 7.34 | 13.12 | 0 |
| 256 | 9670.3 | 37.77 | 1.40 | 11.62 | 25.91 | 0 |
| 512 | 7690.0 | 30.04 | 2.38 | 13.64 | 36.25 | 0 |

**Case**: req_body=65536B, resp_body=65536B

| threads | rps | resp MiB/s | p50 ms | p95 ms | p99 ms | errors |
|---:|---:|---:|---:|---:|---:|---:|
| 0 | 6106.8 | 381.67 | 5.11 | 5.59 | 5.69 | 0 |
| 2 | 13947.3 | 871.71 | 2.28 | 2.79 | 2.88 | 0 |
| 4 | 19355.0 | 1209.69 | 1.67 | 2.01 | 2.22 | 0 |
| 8 | 29147.0 | 1821.69 | 1.05 | 1.41 | 2.28 | 0 |
| 16 | 42041.1 | 2627.57 | 0.68 | 1.07 | 1.28 | 0 |
| 32 | 33074.6 | 2067.17 | 0.78 | 1.85 | 2.96 | 0 |
| 64 | 15152.5 | 947.03 | 1.62 | 4.76 | 7.95 | 0 |
| 128 | 6169.9 | 385.62 | 3.58 | 13.67 | 17.05 | 0 |
| 256 | 3577.4 | 223.59 | 6.60 | 22.18 | 26.27 | 0 |
| 512 | 1400.9 | 87.56 | 18.21 | 50.28 | 59.53 | 0 |

**Case**: req_body=65536B, resp_body=262144B

| threads | rps | resp MiB/s | p50 ms | p95 ms | p99 ms | errors |
|---:|---:|---:|---:|---:|---:|---:|
| 0 | 2649.2 | 662.30 | 12.05 | 12.20 | 12.35 | 0 |
| 2 | 6021.6 | 1505.39 | 5.30 | 6.51 | 6.68 | 0 |
| 4 | 8803.9 | 2200.97 | 3.69 | 4.40 | 4.62 | 0 |
| 8 | 12777.6 | 3194.40 | 2.42 | 3.28 | 3.94 | 0 |
| 16 | 18301.7 | 4575.41 | 1.60 | 2.71 | 3.17 | 0 |
| 32 | 13796.8 | 3449.20 | 2.22 | 4.54 | 5.79 | 0 |
| 64 | 5423.5 | 1355.89 | 4.99 | 12.61 | 16.01 | 0 |
| 128 | 3160.1 | 790.03 | 9.57 | 18.22 | 22.43 | 0 |
| 256 | 1888.6 | 472.15 | 15.35 | 32.66 | 42.97 | 0 |
| 512 | 1323.3 | 330.82 | 21.47 | 50.26 | 64.22 | 0 |

### Raw TCP (iperf) — throughput

**payload**: 64B, **direction**: up

| streams | mbps |
|---:|---:|
| 2 | 4840.00 |
| 4 | 9650.00 |
| 8 | 17700.00 |
| 16 | 30300.00 |
| 32 | 31400.00 |
| 64 | 34500.00 |
| 128 | 29400.00 |
| 256 | 28400.00 |
| 512 | 28800.00 |

**payload**: 1024B, **direction**: up

| streams | mbps |
|---:|---:|
| 2 | 51200.00 |
| 4 | 90700.00 |
| 8 | 152000.00 |
| 16 | 206000.00 |
| 32 | 275000.00 |
| 64 | 277000.00 |
| 128 | 190000.00 |
| 256 | 162000.00 |
| 512 | 168000.00 |

**payload**: 8192B, **direction**: up

| streams | mbps |
|---:|---:|
| 2 | 145000.00 |
| 4 | 254000.00 |
| 8 | 312000.00 |
| 16 | 382000.00 |
| 32 | 488000.00 |
| 64 | 330000.00 |
| 128 | 168000.00 |
| 256 | 166000.00 |
| 512 | 153000.00 |

**payload**: 65536B, **direction**: up

| streams | mbps |
|---:|---:|
| 2 | 154000.00 |
| 4 | 285000.00 |
| 8 | 375000.00 |
| 16 | 468000.00 |
| 32 | 543000.00 |
| 64 | 299000.00 |
| 128 | 160000.00 |
| 256 | 155000.00 |
| 512 | 174000.00 |


### UDP (iperf) — throughput + loss/jitter (if available)

**payload**: 64B, **direction**: up

| streams | mbps | jitter ms | loss % |
|---:|---:|---:|---:|
| 2 | 310.00 | 0.000 | 0.000 |
| 4 | 299.00 | 0.000 | 0.000 |
| 8 | 280.00 | 0.000 | 0.000 |
| 16 | 186.00 | 0.000 | 0.000 |
| 32 | 73.30 | 0.000 | 0.000 |
| 64 | 39.30 | 0.000 | 0.000 |
| 128 | 15.10 | 0.000 | 0.000 |
| 256 | 28.50 | 0.000 | 0.000 |
| 512 | 14.40 | 0.000 | 0.000 |

**payload**: 1024B, **direction**: up

| streams | mbps | jitter ms | loss % |
|---:|---:|---:|---:|
| 2 | 1050.00 | 0.000 | 0.000 |
| 4 | 1050.00 | 0.000 | 0.000 |
| 8 | 1050.00 | 0.000 | 0.000 |
| 16 | 1050.00 | 0.000 | 0.000 |
| 32 | 1050.00 | 0.000 | 0.000 |
| 64 | 719.00 | 0.000 | 0.000 |
| 128 | 355.00 | 0.000 | 0.000 |
| 256 | 141.00 | 0.000 | 0.000 |
| 512 | 520.00 | 0.000 | 0.000 |

**payload**: 8192B, **direction**: up

| streams | mbps | jitter ms | loss % |
|---:|---:|---:|---:|
| 2 | 188.00 | 0.000 | 0.000 |
| 4 | 188.00 | 0.000 | 0.000 |
| 8 | 188.00 | 0.000 | 0.000 |
| 16 | 188.00 | 0.000 | 0.000 |
| 32 | 188.00 | 0.000 | 0.000 |
| 64 | 188.00 | 0.000 | 0.000 |
| 128 | 188.00 | 0.000 | 0.000 |
| 256 | 167.00 | 0.000 | 0.000 |
| 512 | 46.10 | 0.000 | 0.000 |

**payload**: 65536B, **direction**: up

| streams | mbps | jitter ms | loss % |
|---:|---:|---:|---:|
| 2 | 0.00 | 0.000 | 0.000 |
| 4 | 0.00 | 0.000 | 0.000 |
| 8 | 0.00 | 0.000 | 0.000 |
| 16 | 0.00 | 0.000 | 0.000 |
| 32 | 0.00 | 0.000 | 0.000 |
| 64 | 0.00 | 0.000 | 0.000 |
| 128 | 0.00 | 0.000 | 0.000 |
| 256 | 0.00 | 0.000 | 0.000 |
| 512 | 0.00 | 0.000 | 0.000 |


